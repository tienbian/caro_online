<% @page_title = "Play Standard Tic Tac Toe" %>
<table style="background-color: #ffffff" align="center" width="740" cellpadding="0" cellspacing="0" border="0">
	<tr>
		<td align="center" width="80" valign="top">
			<div id="X_01" class="draggable_play"><img src="/images/x_icon.png" /></div>
			<div id="X_02" class="draggable_play"><img src="/images/x_icon.png" /></div>
			<div id="X_03" class="draggable_play"><img src="/images/x_icon.png" /></div>
			<div id="X_04" class="draggable_play"><img src="/images/x_icon.png" /></div>
			<div id="X_05" class="draggable_play"><img src="/images/x_icon.png" /></div>
		</td>
		<td valign="top">
			<div id="game-stats">
				<div id="stats-label" class="super-label">
					Game Stats
				</div>
				<div id="stats-content">
					<span class="label">Total Games Played:</span>&nbsp;<span id="total_games_played" class="data"><%=@current_user.get_total_games_played - 1 %></span>
					<span class="label">wins:</span>&nbsp;<span id="total_wins" class="data"><%=@current_user.get_total_games_won %></span>
					<span class="label">losses:</span>&nbsp;<span id="total_loses" class="data"><%=@current_user.get_total_games_lost %></span>
					<span class="label">equalizers:</span>&nbsp;<span id="total_equal" class="data"><%=@current_user.get_total_games_equalized %></span>
				</div>
				&nbsp;
			</div>

			<div id="message-container">
				<div id="status_message" class="statusMessageNormal">
					You are X's and I am O's. You go first. Drag an X on to the board.
				</div>
			</div>

			<div id="board-container">
				<table id="table-board" bordercolor="#ffffff" align="center" cellpadding="0" cellspacing="0" border="1">
					<tr>
						<td id="drop_0_0" class="imageSpacerGameBoard"></td>
						<td id="drop_0_1" class="imageSpacerGameBoard"></td>
						<td id="drop_0_2" class="imageSpacerGameBoard"></td>
					</tr>
					<tr>
						<td id="drop_1_0" class="imageSpacerGameBoard"></td>
						<td id="drop_1_1" class="imageSpacerGameBoard"></td>
						<td id="drop_1_2" class="imageSpacerGameBoard"></td>
					</tr>
					<tr>
						<td id="drop_2_0" class="imageSpacerGameBoard"></td>
						<td id="drop_2_1" class="imageSpacerGameBoard"></td>
						<td id="drop_2_2" class="imageSpacerGameBoard"></td>
					</tr>
				</table>
			</div>

			<br />
			<br />
		</td>
		<td align="center" width="80" valign="top">
			<div id="O_01" class="draggable_play"><img src="/images/o_icon.png" /></div>
			<div id="O_02" class="draggable_play"><img src="/images/o_icon.png" /></div>
			<div id="O_03" class="draggable_play"><img src="/images/o_icon.png" /></div>
			<div id="O_04" class="draggable_play"><img src="/images/o_icon.png" /></div>
		</td>
	</tr>
	<tr>
		<td colspan="3" align="right">
			<div id="play_again" style="margin-bottom: 5px; padding:2px 2px 2px 2px; display:none;">
				<a style="color:blue;" href="./standard">Play Again</a>
			</div>
		</td>
	</tr>
</table>

<div id="behaviour_settings">
	<%= draggable_element :X_01, :revert => true %>
	<%= draggable_element :X_02, :revert => true %>
	<%= draggable_element :X_03, :revert => true %>
	<%= draggable_element :X_04, :revert => true %>
	<%= draggable_element :X_05, :revert => true %>


	<%= drop_receiving_element :drop_0_0, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_0_0&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_0_1, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_0_1&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_0_2, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_0_2&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_1_0, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_1_0&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_1_1, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_1_1&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_1_2, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_1_2&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_2_0, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_2_0&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_2_1, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_2_1&game_id=#{@game.id}"
	%>
	<%= drop_receiving_element :drop_2_2, :hoverclass => 'drop_zone_hover', :accept => "draggable_play",
														 :url => "/play/standard/receive_move_by_player?drop_zone=drop_2_2&game_id=#{@game.id}"
	%>
</div>

<script language="javascript">
function doOnApplicationMove()
{
	var ajaxParameters = 'game_id=<%= "#{@game.id}" %>';
	new Ajax.Request('/play/standard/receive_move_by_application', {parameters:ajaxParameters});
}
</script>